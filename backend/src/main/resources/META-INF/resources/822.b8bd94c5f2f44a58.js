"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[822],{6822:(O,x,a)=>{a.r(x),a.d(x,{UserModule:()=>g});var u=a(6895),o=a(433),m=a(5450),h=a(655),l=a(2856),e=a(8256),d=a(8505),C=a(529);class p{constructor(s){this.http=s}getAll(){return this.http.get("api/user/list").pipe((0,d.b)(s=>console.log(s)))}get(s){return this.http.get(`api/user/${s}`).pipe((0,d.b)(t=>console.log(t)))}create(s){return this.http.post("api/user",null,{params:{name:s.name,firstName:s.firstName}}).pipe((0,d.b)(t=>console.log(t)))}update(s){return this.http.post(`api/user/${s.id}`,null,{params:{name:s.name,firstName:s.firstName}}).pipe((0,d.b)(t=>console.log(t)))}delete(s){return this.http.delete(`api/user/${s}`).pipe((0,d.b)(t=>console.log(t)))}addPet(s,t){return this.http.post(`api/user/${s}/pet`,null,{params:{id:t}}).pipe((0,d.b)(n=>console.log(n)))}removePet(s,t){return this.http.delete(`api/user/${s}/pet/${t}`).pipe((0,d.b)(n=>console.log(n)))}static#e=this.\u0275fac=function(t){return new(t||p)(e.LFG(C.eN))};static#t=this.\u0275prov=e.Yz7({token:p,factory:p.\u0275fac,providedIn:"root"})}function T(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"div")(1,"div",2)(2,"label",3),e._uU(3,"Name"),e.qZA(),e.TgZ(4,"input",4),e.NdJ("ngModelChange",function(r){e.CHM(t);const c=e.oxw();return e.KtG(c.user.name=r)}),e.qZA()(),e.TgZ(5,"div",2)(6,"label",5),e._uU(7,"First Name"),e.qZA(),e.TgZ(8,"input",6),e.NdJ("ngModelChange",function(r){e.CHM(t);const c=e.oxw();return e.KtG(c.user.firstName=r)}),e.qZA()(),e.TgZ(9,"button",7),e.NdJ("click",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.saveUser())}),e._uU(10,"Submit"),e.qZA()()}if(2&i){const t=e.oxw();e.xp6(4),e.Q6J("ngModel",t.user.name),e.xp6(4),e.Q6J("ngModel",t.user.firstName)}}function N(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"div")(1,"h4"),e._uU(2,"User was submitted successfully!"),e.qZA(),e.TgZ(3,"button",7),e.NdJ("click",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.newUser())}),e._uU(4,"Add"),e.qZA()()}}let f=class b{constructor(s){this.userService=s,this.user={name:"",firstName:""},this.submitted=!1}saveUser(){this.userService.create({name:this.user.name,firstName:this.user.firstName}).pipe((0,l.t)(this)).subscribe(()=>this.submitted=!0)}newUser(){this.submitted=!1,this.user={name:"",firstName:""}}ngOnDestroy(){}static#e=this.\u0275fac=function(t){return new(t||b)(e.Y36(p))};static#t=this.\u0275cmp=e.Xpm({type:b,selectors:[["app-add-user"]],decls:4,vars:2,consts:[[1,"submit-form"],[4,"ngIf"],[1,"form-group"],["for","name"],["type","text","id","name","required","","name","name",1,"form-control",3,"ngModel","ngModelChange"],["for","firstName"],["type","text","id","firstName","required","","name","firstName",1,"form-control",3,"ngModel","ngModelChange"],[1,"btn","btn-success",3,"click"]],template:function(t,n){1&t&&(e.TgZ(0,"div")(1,"div",0),e.YNc(2,T,11,2,"div",1),e.YNc(3,N,5,0,"div",1),e.qZA()()),2&t&&(e.xp6(2),e.Q6J("ngIf",!n.submitted),e.xp6(1),e.Q6J("ngIf",n.submitted))},dependencies:[u.O5,o.Fj,o.JJ,o.Q7,o.On]})};f=(0,h.gn)([(0,l.c)()],f);var M=a(6168);function J(i,s){1&i&&(e.TgZ(0,"p"),e._uU(1,"No animal available for adoption"),e.qZA())}function F(i,s){if(1&i&&(e.TgZ(0,"option",17),e._uU(1),e.qZA()),2&i){const t=s.$implicit;e.Q6J("value",t.id),e.xp6(1),e.AsE("",t.name," the ",t.type,"")}}function w(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"div",2)(1,"label",12),e._uU(2,"Available pets"),e.qZA(),e.TgZ(3,"select",13,14),e.NdJ("change",function(){e.CHM(t);const r=e.MAs(4),c=e.oxw(2);return e.KtG(c.selectedPetId=r.value)}),e.TgZ(5,"option"),e._uU(6,"- select a pet to adopt -"),e.qZA(),e.YNc(7,F,2,3,"option",15),e.qZA(),e.TgZ(8,"button",16),e.NdJ("click",function(){e.CHM(t);const r=e.oxw(2);return e.KtG(r.addPets())}),e._uU(9,"Adopt"),e.qZA()()}if(2&i){const t=e.oxw(2);e.xp6(7),e.Q6J("ngForOf",t.availableAnimals),e.xp6(1),e.Q6J("disabled",!t.selectedPetId)}}function y(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"div",20)(1,"a",21),e._uU(2),e.qZA(),e.TgZ(3,"button",7),e.NdJ("click",function(){const c=e.CHM(t).$implicit,I=e.oxw(3);return e.KtG(I.removePet(c.id))}),e._uU(4,"Remove"),e.qZA()()}if(2&i){const t=s.$implicit;e.xp6(1),e.MGl("href","/animal/",t.id,"",e.LSH),e.xp6(1),e.AsE("",t.name," the ",t.type,"")}}function q(i,s){if(1&i&&(e.TgZ(0,"div",18),e.YNc(1,y,5,3,"div",19),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("ngForOf",t.user.pets)}}function D(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"div",1)(1,"h4"),e._uU(2,"User"),e.qZA(),e.TgZ(3,"form")(4,"div",2)(5,"label",3),e._uU(6,"Name"),e.qZA(),e.TgZ(7,"input",4),e.NdJ("ngModelChange",function(r){e.CHM(t);const c=e.oxw();return e.KtG(c.user.name=r)}),e.qZA()(),e.TgZ(8,"div",2)(9,"label",5),e._uU(10,"First Name"),e.qZA(),e.TgZ(11,"input",6),e.NdJ("ngModelChange",function(r){e.CHM(t);const c=e.oxw();return e.KtG(c.user.firstName=r)}),e.qZA()()(),e.TgZ(12,"button",7),e.NdJ("click",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.deleteUser())}),e._uU(13," Delete "),e.qZA(),e.TgZ(14,"button",8),e.NdJ("click",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.updateUser())}),e._uU(15," Update "),e.qZA(),e._UZ(16,"hr"),e.YNc(17,J,2,0,"p",9),e.YNc(18,w,10,2,"div",10),e.YNc(19,q,2,1,"div",11),e.qZA()}if(2&i){const t=e.oxw();e.xp6(7),e.Q6J("ngModel",t.user.name),e.xp6(4),e.Q6J("ngModel",t.user.firstName),e.xp6(6),e.Q6J("ngIf",!t.availableAnimals),e.xp6(1),e.Q6J("ngIf",t.availableAnimals),e.xp6(1),e.Q6J("ngIf",t.user.pets)}}let v=class Z{constructor(s,t,n,r){this.userService=s,this.animalService=t,this.route=n,this.router=r,this.user={name:"",firstName:"",pets:[]},this.availableAnimals=[]}ngOnInit(){this.getUser(this.route.snapshot.params.id),this.getAvailablePets()}getUser(s){this.userService.get(s).pipe((0,l.t)(this)).subscribe(t=>{this.user=t})}getAvailablePets(){this.animalService.getAvailables().pipe((0,l.t)(this)).subscribe(s=>{this.availableAnimals=s})}updateUser(){this.userService.update(this.user).pipe((0,l.t)(this)).subscribe(s=>{this.user=s})}deleteUser(){!this.user.id||this.userService.delete(this.user.id).pipe((0,l.t)(this)).subscribe(()=>this.router.navigate(["/user"]))}addPets(){console.log(this.selectedPetId),this.user.id&&this.selectedPetId&&this.userService.addPet(this.user.id,this.selectedPetId).pipe((0,l.t)(this)).subscribe(s=>{this.user=s,this.getAvailablePets()})}removePet(s){!this.user.id||!s||this.userService.removePet(this.user.id,s).pipe((0,l.t)(this)).subscribe(t=>{this.user=t,this.getAvailablePets()})}ngOnDestroy(){}static#e=this.\u0275fac=function(t){return new(t||Z)(e.Y36(p),e.Y36(M.L),e.Y36(m.gz),e.Y36(m.F0))};static#t=this.\u0275cmp=e.Xpm({type:Z,selectors:[["app-user-details"]],decls:2,vars:1,consts:[["class","edit-form",4,"ngIf"],[1,"edit-form"],[1,"form-group"],["for","name"],["type","text","name","name","id","name",3,"ngModel","ngModelChange"],["for","firstName"],["type","text","name","firstName","id","firstName",3,"ngModel","ngModelChange"],[1,"badge","badge-danger","mr-2",3,"click"],["type","submit",1,"badge","badge-success","mb-2",3,"click"],[4,"ngIf"],["class","form-group",4,"ngIf"],["class","card-container",4,"ngIf"],["for","newPet"],["name","newPet","id","newPet",1,"form-control",3,"change"],["newPet",""],[3,"value",4,"ngFor","ngForOf"],[1,"badge","badge-success","mb-2",3,"disabled","click"],[3,"value"],[1,"card-container"],["class","card",4,"ngFor","ngForOf"],[1,"card"],[3,"href"]],template:function(t,n){1&t&&(e.TgZ(0,"div"),e.YNc(1,D,20,5,"div",0),e.qZA()),2&t&&(e.xp6(1),e.Q6J("ngIf",n.user.id))},dependencies:[u.sg,u.O5,o._Y,o.YN,o.Kr,o.Fj,o.JJ,o.JL,o.On,o.F]})};function P(i,s){if(1&i&&(e.TgZ(0,"a",5),e._uU(1),e.qZA()),2&i){const t=s.$implicit;e.MGl("href","/user/",t.id,"",e.LSH),e.xp6(1),e.AsE(" ",t.firstName," ",t.name," ")}}v=(0,h.gn)([(0,l.c)()],v);let U=class A{constructor(s){this.userService=s,this.list$=this.userService.getAll()}ngOnDestroy(){}static#e=this.\u0275fac=function(t){return new(t||A)(e.Y36(p))};static#t=this.\u0275cmp=e.Xpm({type:A,selectors:[["app-user-list"]],decls:10,vars:3,consts:[[1,"card-container"],["class","card card-small",3,"href",4,"ngFor","ngForOf"],["href","/user/add",1,"card","highlight-card","card-small"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24",1,"material-icons"],["d","M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"],[1,"card","card-small",3,"href"]],template:function(t,n){1&t&&(e.TgZ(0,"h2"),e._uU(1,"User list"),e.qZA(),e.TgZ(2,"p"),e._uU(3,"Here is the list of all users:"),e.qZA(),e.TgZ(4,"div",0),e.YNc(5,P,2,3,"a",1),e.ALo(6,"async"),e.TgZ(7,"a",2),e.O4$(),e.TgZ(8,"svg",3),e._UZ(9,"path",4),e.qZA()()()),2&t&&(e.xp6(5),e.Q6J("ngForOf",e.lcZ(6,1,n.list$)))},dependencies:[u.sg,u.Ov]})};U=(0,h.gn)([(0,l.c)()],U);const Y=[{path:"",component:U},{path:"add",component:f},{path:":id",component:v}];class _{static#e=this.\u0275fac=function(t){return new(t||_)};static#t=this.\u0275mod=e.oAB({type:_});static#s=this.\u0275inj=e.cJS({imports:[m.Bz.forChild(Y),m.Bz]})}class g{static#e=this.\u0275fac=function(t){return new(t||g)};static#t=this.\u0275mod=e.oAB({type:g});static#s=this.\u0275inj=e.cJS({imports:[u.ez,o.u5,_]})}}}]);